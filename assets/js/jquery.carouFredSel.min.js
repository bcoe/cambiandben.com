/*	
 *	jQuery carouFredSel 5.6.4
 *	Demo's and documentation:
 *	caroufredsel.frebsite.nl
 *	
 *	Copyright (c) 2012 Fred Heusschen
 *	www.frebsite.nl
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */
 
(function($){function sc_setScroll(a,b){return{anims:[],duration:a,orgDuration:a,easing:b,startTime:getTime()}}function sc_startScroll(a){if(typeof a.pre=="object"){sc_startScroll(a.pre)}for(var b=0,c=a.anims.length;b<c;b++){var d=a.anims[b];if(!d)continue;if(d[3])d[0].stop();d[0].animate(d[1],{complete:d[2],duration:a.duration,easing:a.easing})}if(typeof a.post=="object"){sc_startScroll(a.post)}}function sc_stopScroll(a,b){if(typeof b!="boolean")b=true;if(typeof a.pre=="object"){sc_stopScroll(a.pre,b)}for(var c=0,d=a.anims.length;c<d;c++){var e=a.anims[c];e[0].stop(true);if(b){e[0].css(e[1]);if(typeof e[2]=="function")e[2]()}}if(typeof a.post=="object"){sc_stopScroll(a.post,b)}}function sc_clearTimers(a){if(a.auto)clearTimeout(a.auto);return a}function sc_callCallbacks(a,b,c){if(a.length){for(var d=0,e=a.length;d<e;d++){a[d].apply(b,c)}}return[]}function fx_fade(a,b,c,d,e){var f={duration:d,easing:a.easing};if(typeof e=="function")f.complete=e;b.animate({opacity:c},f)}function fx_cover(a,b,c,d,e){var f=ms_getSizes(gi_getOldItemsNext(b.children(),d),d,true)[0],g=ms_getSizes(c.children(),d,true)[0],h=e?-g:f,i={},j={};i[d.d["width"]]=g;i[d.d["left"]]=h;j[d.d["left"]]=0;a.pre.anims.push([b,{opacity:1}]);a.post.anims.push([c,j,function(){$(this).remove()}]);c.css(i);return a}function fx_uncover(a,b,c,d,e,f){var g=ms_getSizes(gi_getNewItemsNext(b.children(),d,f),d,true)[0],h=ms_getSizes(c.children(),d,true)[0],i=e?-h:g,j={},k={};j[d.d["width"]]=h;j[d.d["left"]]=0;k[d.d["left"]]=i;a.post.anims.push([c,k,function(){$(this).remove()}]);c.css(j);return a}function nv_showNavi(a,b,c){if(b=="show"||b=="hide"){var d=b}else if(a.items.minimum>=b){debug(c,"Not enough items: hiding navigation ("+b+" items, "+a.items.minimum+" needed).");var d="hide"}else{var d="show"}var e=d=="show"?"removeClass":"addClass",f=cf_c("hidden",c);if(a.auto.button)a.auto.button[d]()[e](f);if(a.prev.button)a.prev.button[d]()[e](f);if(a.next.button)a.next.button[d]()[e](f);if(a.pagination.container)a.pagination.container[d]()[e](f)}function nv_enableNavi(a,b,c){if(a.circular||a.infinite)return;var d=b=="removeClass"||b=="addClass"?b:false,e=cf_c("disabled",c);if(a.auto.button&&d){a.auto.button[d](e)}if(a.prev.button){var f=d||b==0?"addClass":"removeClass";a.prev.button[f](e)}if(a.next.button){var f=d||b==a.items.visible?"addClass":"removeClass";a.next.button[f](e)}}function go_getObject(a,b){if(typeof b=="function")b=b.call(a);if(typeof b=="undefined")b={};return b}function go_getNaviObject(a,b,c){if(typeof c!="string")c="";b=go_getObject(a,b);if(typeof b=="string"){var d=cf_getKeyCode(b);if(d==-1)b=$(b);else b=d}if(c=="pagination"){if(typeof b=="boolean")b={keys:b};if(typeof b.jquery!="undefined")b={container:b};if(typeof b.container=="function")b.container=b.container.call(a);if(typeof b.container=="string")b.container=$(b.container);if(typeof b.items!="number")b.items=false}else if(c=="auto"){if(typeof b.jquery!="undefined")b={button:b};if(typeof b=="boolean")b={play:b};if(typeof b=="number")b={pauseDuration:b};if(typeof b.button=="function")b.button=b.button.call(a);if(typeof b.button=="string")b.button=$(b.button)}else{if(typeof b.jquery!="undefined")b={button:b};if(typeof b=="number")b={key:b};if(typeof b.button=="function")b.button=b.button.call(a);if(typeof b.button=="string")b.button=$(b.button);if(typeof b.key=="string")b.key=cf_getKeyCode(b.key)}return b}function gn_getItemIndex(a,b,c,d,e){if(typeof a=="string"){if(isNaN(a))a=$(a);else a=parseInt(a)}if(typeof a=="object"){if(typeof a.jquery=="undefined")a=$(a);a=e.children().index(a);if(a==-1)a=0;if(typeof c!="boolean")c=false}else{if(typeof c!="boolean")c=true}if(isNaN(a))a=0;else a=parseInt(a);if(isNaN(b))b=0;else b=parseInt(b);if(c){a+=d.first}a+=b;if(d.total>0){while(a>=d.total){a-=d.total}while(a<0){a+=d.total}}return a}function gn_getVisibleItemsPrev(a,b,c){var d=0,e=0;for(var f=c;f>=0;f--){var g=a.eq(f);d+=g.is(":visible")?g[b.d["outerWidth"]](true):0;if(d>b.maxDimention)return e;if(f==0)f=a.length;e++}}function gn_getVisibleItemsPrevFilter(a,b,c){return gn_getItemsPrevFilter(a,b.items.filter,b.items.visibleConf.org,c)}function gn_getScrollItemsPrevFilter(a,b,c,d){return gn_getItemsPrevFilter(a,b.items.filter,d,c)}function gn_getItemsPrevFilter(a,b,c,d){var e=0,f=0;for(var g=d,h=a.length;g>=0;g--){f++;if(f==h)return f;var i=a.eq(g);if(i.is(b)){e++;if(e==c)return f}if(g==0)g=h}}function gn_getVisibleOrg(a,b){return b.items.visibleConf.org||a.children().slice(0,b.items.visible).filter(b.items.filter).length}function gn_getVisibleItemsNext(a,b,c){var d=0,e=0;for(var f=c,g=a.length-1;f<=g;f++){var h=a.eq(f);d+=h.is(":visible")?h[b.d["outerWidth"]](true):0;if(d>b.maxDimention)return e;e++;if(e==g+1)return e;if(f==g)f=-1}}function gn_getVisibleItemsNextTestCircular(a,b,c,d){var e=gn_getVisibleItemsNext(a,b,c);if(!b.circular){if(c+e>d)e=d-c}return e}function gn_getVisibleItemsNextFilter(a,b,c){return gn_getItemsNextFilter(a,b.items.filter,b.items.visibleConf.org,c,b.circular)}function gn_getScrollItemsNextFilter(a,b,c,d){return gn_getItemsNextFilter(a,b.items.filter,d+1,c,b.circular)-1}function gn_getItemsNextFilter(a,b,c,d,e){var f=0,g=0;for(var h=d,i=a.length-1;h<=i;h++){g++;if(g==i)return g;var j=a.eq(h);if(j.is(b)){f++;if(f==c)return g}if(h==i)h=-1}}function gi_getCurrentItems(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsPrev(a,b,c){return a.slice(c,b.items.visibleConf.old+c)}function gi_getNewItemsPrev(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsNext(a,b){return a.slice(0,b.items.visibleConf.old)}function gi_getNewItemsNext(a,b,c){return a.slice(c,b.items.visible+c)}function sz_resetMargin(a,b,c){var d=typeof c=="boolean"?c:false;if(typeof c!="number")c=0;a.each(function(){var a=$(this);var e=parseInt(a.css(b.d["marginRight"]));if(isNaN(e))e=0;a.data("cfs_tempCssMargin",e);a.css(b.d["marginRight"],d?a.data("cfs_tempCssMargin"):c+a.data("cfs_origCssMargin"))})}function sz_setSizes(a,b,c){var d=a.parent(),e=a.children(),f=gi_getCurrentItems(e,b),g=cf_mapWrapperSizes(ms_getSizes(f,b,true),b,c);d.css(g);if(b.usePadding){var c=b.padding,h=c[b.d[1]];if(b.align){if(h<0)h=0}var i=f.last();i.css(b.d["marginRight"],i.data("cfs_origCssMargin")+h);a.css(b.d["top"],c[b.d[0]]);a.css(b.d["left"],c[b.d[3]])}a.css(b.d["width"],g[b.d["width"]]+ms_getTotalSize(e,b,"width")*2);a.css(b.d["height"],ms_getLargestSize(e,b,"height"));return g}function ms_getSizes(a,b,c){var d=ms_getTotalSize(a,b,"width",c),e=ms_getLargestSize(a,b,"height",c);return[d,e]}function ms_getLargestSize(a,b,c,d){if(typeof d!="boolean")d=false;if(typeof b[b.d[c]]=="number"&&d)return b[b.d[c]];if(typeof b.items[b.d[c]]=="number")return b.items[b.d[c]];var e=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight";return ms_getTrueLargestSize(a,b,e)}function ms_getTrueLargestSize(a,b,c){var d=0;for(var e=0,f=a.length;e<f;e++){var g=a.eq(e);var h=g.is(":visible")?g[b.d[c]](true):0;if(d<h)d=h}return d}function ms_getTrueInnerSize(a,b,c){if(!a.is(":visible"))return 0;var d=a[b.d[c]](),e=b.d[c].toLowerCase().indexOf("width")>-1?["paddingLeft","paddingRight"]:["paddingTop","paddingBottom"];for(var f=0,g=e.length;f<g;f++){var h=parseInt(a.css(e[f]));d-=isNaN(h)?0:h}return d}function ms_getTotalSize(a,b,c,d){if(typeof d!="boolean")d=false;if(typeof b[b.d[c]]=="number"&&d)return b[b.d[c]];if(typeof b.items[b.d[c]]=="number")return b.items[b.d[c]]*a.length;var e=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",f=0;for(var g=0,h=a.length;g<h;g++){var i=a.eq(g);f+=i.is(":visible")?i[b.d[e]](true):0}return f}function ms_hasVariableSizes(a,b,c){var d=false,e=false;for(var f=0,g=a.length;f<g;f++){var h=a.eq(f);var i=h.is(":visible")?h[b.d[c]](true):0;if(d===false)d=i;else if(d!=i)e=true;if(d==0)e=true}return e}function ms_getPaddingBorderMargin(a,b,c){return a[b.d["outer"+c]](true)-ms_getTrueInnerSize(a,b,"inner"+c)}function ms_isPercentage(a){return typeof a=="string"&&a.slice(-1)=="%"}function ms_getPercentage(a,b){if(ms_isPercentage(b)){b=b.slice(0,-1);if(isNaN(b))return a;a*=b/100}return a}function cf_e(a,b,c,d,e){if(typeof c!="boolean")c=true;if(typeof d!="boolean")d=true;if(typeof e!="boolean")e=false;if(c)a=b.events.prefix+a;if(d)a=a+"."+b.events.namespace;if(d&&e)a+=b.serialNumber;return a}function cf_c(a,b){return typeof b.classnames[a]=="string"?b.classnames[a]:a}function cf_mapWrapperSizes(a,b,c){if(typeof c!="boolean")c=true;var d=b.usePadding&&c?b.padding:[0,0,0,0];var e={};e[b.d["width"]]=a[0]+d[1]+d[3];e[b.d["height"]]=a[1]+d[0]+d[2];return e}function cf_sortParams(a,b){var c=[];for(var d=0,e=a.length;d<e;d++){for(var f=0,g=b.length;f<g;f++){if(b[f].indexOf(typeof a[d])>-1&&typeof c[f]=="undefined"){c[f]=a[d];break}}}return c}function cf_getPadding(a){if(typeof a=="undefined")return[0,0,0,0];if(typeof a=="number")return[a,a,a,a];else if(typeof a=="string")a=a.split("px").join("").split("em").join("").split(" ");if(!is_array(a)){return[0,0,0,0]}for(var b=0;b<4;b++){a[b]=parseInt(a[b])}switch(a.length){case 0:return[0,0,0,0];case 1:return[a[0],a[0],a[0],a[0]];case 2:return[a[0],a[1],a[0],a[1]];case 3:return[a[0],a[1],a[2],a[1]];default:return[a[0],a[1],a[2],a[3]]}}function cf_getAlignPadding(a,b){var c=typeof b[b.d["width"]]=="number"?Math.ceil(b[b.d["width"]]-ms_getTotalSize(a,b,"width")):0;switch(b.align){case"left":return[0,c];case"right":return[c,0];case"center":default:return[Math.ceil(c/2),Math.floor(c/2)]}}function cf_getAdjust(a,b,c,d){var e=a;if(typeof c=="function"){e=c.call(d,e)}else if(typeof c=="string"){var f=c.split("+"),g=c.split("-");if(g.length>f.length){var h=true,i=g[0],j=g[1]}else{var h=false,i=f[0],j=f[1]}switch(i){case"even":e=a%2==1?a-1:a;break;case"odd":e=a%2==0?a-1:a;break;default:e=a;break}j=parseInt(j);if(!isNaN(j)){if(h)j=-j;e+=j}}if(typeof e!="number")e=1;if(e<1)e=1;return e}function cf_getItemsAdjust(a,b,c,d){return cf_getItemAdjustMinMax(cf_getAdjust(a,b,c,d),b.items.visibleConf)}function cf_getItemAdjustMinMax(a,b){if(typeof b.min=="number"&&a<b.min)a=b.min;if(typeof b.max=="number"&&a>b.max)a=b.max;if(a<1)a=1;return a}function cf_getSynchArr(a){if(!is_array(a))a=[[a]];if(!is_array(a[0]))a=[a];for(var b=0,c=a.length;b<c;b++){if(typeof a[b][0]=="string")a[b][0]=$(a[b][0]);if(typeof a[b][1]!="boolean")a[b][1]=true;if(typeof a[b][2]!="boolean")a[b][2]=true;if(typeof a[b][3]!="number")a[b][3]=0}return a}function cf_getKeyCode(a){if(a=="right")return 39;if(a=="left")return 37;if(a=="up")return 38;if(a=="down")return 40;return-1}function cf_setCookie(a,b){if(a)document.cookie=a+"="+b+"; path=/"}function cf_readCookie(a){a+="=";var b=document.cookie.split(";");for(var c=0,d=b.length;c<d;c++){var e=b[c];while(e.charAt(0)==" "){e=e.slice(1)}if(e.indexOf(a)==0){return e.slice(a.length)}}return 0}function bt_pauseOnHoverConfig(a){if(a&&typeof a=="string"){var b=a.indexOf("immediate")>-1?true:false,c=a.indexOf("resume")>-1?true:false}else{var b=c=false}return[b,c]}function bt_mousesheelNumber(a){return typeof a=="number"?a:null}function is_array(a){return typeof a=="object"&&a instanceof Array}function getTime(){return(new Date).getTime()}function debug(a,b){if(typeof a=="object"){var c=" ("+a.selector+")";a=a.debug}else{var c=""}if(!a)return false;if(typeof b=="string")b="carouFredSel"+c+": "+b;else b=["carouFredSel"+c+":",b];if(window.console&&window.console.log)window.console.log(b);return false}if($.fn.carouFredSel)return;$.fn.carouFredSel=function(options,configs){if(this.length==0){debug(true,'No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){$(this).carouFredSel(options,configs)})}var $cfs=this,$tt0=this[0];if($cfs.data("cfs_isCarousel")){var starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",[true]])}else{var starting_position=false}$cfs._cfs_init=function(a,b,c){a=go_getObject($tt0,a);var d=["items","scroll","auto","prev","next","pagination"];for(var e=0,f=d.length;e<f;e++){a[d[e]]=go_getObject($tt0,a[d[e]])}if(typeof a.scroll=="number"){if(a.scroll<=50)a.scroll={items:a.scroll};else a.scroll={duration:a.scroll}}else{if(typeof a.scroll=="string")a.scroll={easing:a.scroll}}if(typeof a.items=="number")a.items={visible:a.items};else if(a.items=="variable")a.items={visible:a.items,width:a.items,height:a.items};if(typeof a.items!="object")a.items={};if(b)opts_orig=$.extend(true,{},$.fn.carouFredSel.defaults,a);opts=$.extend(true,{},$.fn.carouFredSel.defaults,a);if(typeof opts.items.visibleConf!="object")opts.items.visibleConf={};if(opts.items.start==0&&typeof c=="number"){opts.items.start=c}crsl.upDateOnWindowResize=opts.responsive;crsl.direction=opts.direction=="up"||opts.direction=="left"?"next":"prev";var g=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];var h=g[0].length,i=opts.direction=="right"||opts.direction=="left"?0:1;opts.d={};for(var j=0;j<h;j++){opts.d[g[0][j]]=g[i][j]}var k=$cfs.children();switch(typeof opts.items.visible){case"object":opts.items.visibleConf.min=opts.items.visible.min;opts.items.visibleConf.max=opts.items.visible.max;opts.items.visible=false;break;case"string":if(opts.items.visible=="variable"){opts.items.visibleConf.variable=true}else{opts.items.visibleConf.adjust=opts.items.visible}opts.items.visible=false;break;case"function":opts.items.visibleConf.adjust=opts.items.visible;opts.items.visible=false;break}if(typeof opts.items.filter=="undefined"){opts.items.filter=k.filter(":hidden").length>0?":visible":"*"}if(opts[opts.d["width"]]=="auto"){opts[opts.d["width"]]=ms_getTrueLargestSize(k,opts,"outerWidth")}if(ms_isPercentage(opts[opts.d["width"]])&&!opts.responsive){opts[opts.d["width"]]=ms_getPercentage(ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"),opts[opts.d["width"]]);crsl.upDateOnWindowResize=true}if(opts[opts.d["height"]]=="auto"){opts[opts.d["height"]]=ms_getTrueLargestSize(k,opts,"outerHeight")}if(!opts.items[opts.d["width"]]){if(opts.responsive){debug(true,"Set a "+opts.d["width"]+" for the items!");opts.items[opts.d["width"]]=ms_getTrueLargestSize(k,opts,"outerWidth")}else{opts.items[opts.d["width"]]=ms_hasVariableSizes(k,opts,"outerWidth")?"variable":k[opts.d["outerWidth"]](true)}}if(!opts.items[opts.d["height"]]){opts.items[opts.d["height"]]=ms_hasVariableSizes(k,opts,"outerHeight")?"variable":k[opts.d["outerHeight"]](true)}if(!opts[opts.d["height"]]){opts[opts.d["height"]]=opts.items[opts.d["height"]]}if(!opts.items.visible&&!opts.responsive){if(opts.items[opts.d["width"]]=="variable"){opts.items.visibleConf.variable=true}if(!opts.items.visibleConf.variable){if(typeof opts[opts.d["width"]]=="number"){opts.items.visible=Math.floor(opts[opts.d["width"]]/opts.items[opts.d["width"]])}else{var l=ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth");opts.items.visible=Math.floor(l/opts.items[opts.d["width"]]);opts[opts.d["width"]]=opts.items.visible*opts.items[opts.d["width"]];if(!opts.items.visibleConf.adjust)opts.align=false}if(opts.items.visible=="Infinity"||opts.items.visible<1){debug(true,'Not a valid number of visible items: Set to "variable".');opts.items.visibleConf.variable=true}}}if(!opts[opts.d["width"]]){opts[opts.d["width"]]="variable";if(!opts.responsive&&opts.items.filter=="*"&&!opts.items.visibleConf.variable&&opts.items[opts.d["width"]]!="variable"){opts[opts.d["width"]]=opts.items.visible*opts.items[opts.d["width"]];opts.align=false}}if(opts.items.visibleConf.variable){opts.maxDimention=opts[opts.d["width"]]=="variable"?ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"):opts[opts.d["width"]];if(opts.align===false){opts[opts.d["width"]]="variable"}opts.items.visible=gn_getVisibleItemsNext(k,opts,0)}else if(opts.items.filter!="*"){opts.items.visibleConf.org=opts.items.visible;opts.items.visible=gn_getVisibleItemsNextFilter(k,opts,0)}if(typeof opts.align=="undefined"){opts.align=opts[opts.d["width"]]=="variable"?false:"center"}opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;opts.usePadding=false;if(opts.responsive){if(!opts.items.visibleConf.min)opts.items.visibleConf.min=opts.items.visible;if(!opts.items.visibleConf.max)opts.items.visibleConf.max=opts.items.visible;opts.align=false;opts.padding=[0,0,0,0];var m=$wrp.is(":visible");if(m)$wrp.hide();var n=ms_getPercentage(ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"),opts[opts.d["width"]]);if(typeof opts[opts.d["width"]]=="number"&&n<opts[opts.d["width"]]){n=opts[opts.d["width"]]}if(m)$wrp.show();var o=cf_getItemAdjustMinMax(Math.ceil(n/opts.items[opts.d["width"]]),opts.items.visibleConf);if(o>k.length){o=k.length}var p=Math.floor(n/o),q=opts[opts.d["height"]],r=ms_isPercentage(q);k.each(function(){var a=$(this),b=p-ms_getPaddingBorderMargin(a,opts,"Width");a[opts.d["width"]](b);if(r){a[opts.d["height"]](ms_getPercentage(b,q))}});opts.items.visible=o;opts.items[opts.d["width"]]=p;opts[opts.d["width"]]=o*p}else{opts.padding=cf_getPadding(opts.padding);if(opts.align=="top")opts.align="left";if(opts.align=="bottom")opts.align="right";switch(opts.align){case"center":case"left":case"right":if(opts[opts.d["width"]]!="variable"){var s=cf_getAlignPadding(gi_getCurrentItems(k,opts),opts);opts.usePadding=true;opts.padding[opts.d[1]]=s[1];opts.padding[opts.d[3]]=s[0]}break;default:opts.align=false;opts.usePadding=opts.padding[0]==0&&opts.padding[1]==0&&opts.padding[2]==0&&opts.padding[3]==0?false:true;break}}if(typeof opts.cookie=="boolean"&&opts.cookie)opts.cookie="caroufredsel_cookie_"+$cfs.attr("id");if(typeof opts.items.minimum!="number")opts.items.minimum=opts.items.visible;if(typeof opts.scroll.duration!="number")opts.scroll.duration=500;if(typeof opts.scroll.items=="undefined")opts.scroll.items=opts.items.visibleConf.variable||opts.items.filter!="*"?"visible":opts.items.visible;opts.auto=go_getNaviObject($tt0,opts.auto,"auto");opts.prev=go_getNaviObject($tt0,opts.prev);opts.next=go_getNaviObject($tt0,opts.next);opts.pagination=go_getNaviObject($tt0,opts.pagination,"pagination");opts.auto=$.extend(true,{},opts.scroll,opts.auto);opts.prev=$.extend(true,{},opts.scroll,opts.prev);opts.next=$.extend(true,{},opts.scroll,opts.next);opts.pagination=$.extend(true,{},opts.scroll,opts.pagination);if(typeof opts.pagination.keys!="boolean")opts.pagination.keys=false;if(typeof opts.pagination.anchorBuilder!="function"&&opts.pagination.anchorBuilder!==false)opts.pagination.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder;if(typeof opts.auto.play!="boolean")opts.auto.play=true;if(typeof opts.auto.delay!="number")opts.auto.delay=0;if(typeof opts.auto.pauseOnEvent=="undefined")opts.auto.pauseOnEvent=true;if(typeof opts.auto.pauseOnResize!="boolean")opts.auto.pauseOnResize=true;if(typeof opts.auto.pauseDuration!="number")opts.auto.pauseDuration=opts.auto.duration<10?2500:opts.auto.duration*5;if(opts.synchronise){opts.synchronise=cf_getSynchArr(opts.synchronise)}if(conf.debug){debug(conf,"Carousel width: "+opts.width);debug(conf,"Carousel height: "+opts.height);if(opts.maxDimention)debug(conf,"Available "+opts.d["width"]+": "+opts.maxDimention);debug(conf,"Item widths: "+opts.items.width);debug(conf,"Item heights: "+opts.items.height);debug(conf,"Number of items visible: "+opts.items.visible);if(opts.auto.play)debug(conf,"Number of items scrolled automatically: "+opts.auto.items);if(opts.prev.button)debug(conf,"Number of items scrolled backward: "+opts.prev.items);if(opts.next.button)debug(conf,"Number of items scrolled forward: "+opts.next.items)}};$cfs._cfs_build=function(){$cfs.data("cfs_isCarousel",true);var a={textAlign:$cfs.css("textAlign"),"float":$cfs.css("float"),position:$cfs.css("position"),top:$cfs.css("top"),right:$cfs.css("right"),bottom:$cfs.css("bottom"),left:$cfs.css("left"),width:$cfs.css("width"),height:$cfs.css("height"),marginTop:$cfs.css("marginTop"),marginRight:$cfs.css("marginRight"),marginBottom:$cfs.css("marginBottom"),marginLeft:$cfs.css("marginLeft")};switch(a.position){case"absolute":var b="absolute";break;case"fixed":var b="fixed";break;default:var b="relative"}$wrp.css(a).css({overflow:"hidden",position:b});$cfs.data("cfs_origCss",a).css({textAlign:"left","float":"none",position:"absolute",top:0,left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});if(opts.usePadding){$cfs.children().each(function(){var a=parseInt($(this).css(opts.d["marginRight"]));if(isNaN(a))a=0;$(this).data("cfs_origCssMargin",a)})}};$cfs._cfs_bind_events=function(){$cfs._cfs_unbind_events();$cfs.bind(cf_e("stop",conf),function(a,b){a.stopPropagation();if(!crsl.isStopped){if(opts.auto.button){opts.auto.button.addClass(cf_c("stopped",conf))}}crsl.isStopped=true;if(opts.auto.play){opts.auto.play=false;$cfs.trigger(cf_e("pause",conf),b)}return true});$cfs.bind(cf_e("finish",conf),function(a){a.stopPropagation();if(crsl.isScrolling){sc_stopScroll(scrl)}return true});$cfs.bind(cf_e("pause",conf),function(a,b,c){a.stopPropagation();tmrs=sc_clearTimers(tmrs);if(b&&crsl.isScrolling){scrl.isStopped=true;var d=getTime()-scrl.startTime;scrl.duration-=d;if(scrl.pre)scrl.pre.duration-=d;if(scrl.post)scrl.post.duration-=d;sc_stopScroll(scrl,false)}if(!crsl.isPaused&&!crsl.isScrolling){if(c)tmrs.timePassed+=getTime()-tmrs.startTime}if(!crsl.isPaused){if(opts.auto.button){opts.auto.button.addClass(cf_c("paused",conf))}}crsl.isPaused=true;if(opts.auto.onPausePause){var e=opts.auto.pauseDuration-tmrs.timePassed,f=100-Math.ceil(e*100/opts.auto.pauseDuration);opts.auto.onPausePause.call($tt0,f,e)}return true});$cfs.bind(cf_e("play",conf),function(a,b,c,d){a.stopPropagation();tmrs=sc_clearTimers(tmrs);var e=[b,c,d],f=["string","number","boolean"],g=cf_sortParams(e,f);var b=g[0],c=g[1],d=g[2];if(b!="prev"&&b!="next")b=crsl.direction;if(typeof c!="number")c=0;if(typeof d!="boolean")d=false;if(d){crsl.isStopped=false;opts.auto.play=true}if(!opts.auto.play){a.stopImmediatePropagation();return debug(conf,"Carousel stopped: Not scrolling.")}if(crsl.isPaused){if(opts.auto.button){opts.auto.button.removeClass(cf_c("stopped",conf));opts.auto.button.removeClass(cf_c("paused",conf))}}crsl.isPaused=false;tmrs.startTime=getTime();var h=opts.auto.pauseDuration+c;dur2=h-tmrs.timePassed;perc=100-Math.ceil(dur2*100/h);tmrs.auto=setTimeout(function(){if(opts.auto.onPauseEnd){opts.auto.onPauseEnd.call($tt0,perc,dur2)}if(crsl.isScrolling){$cfs.trigger(cf_e("play",conf),b)}else{$cfs.trigger(cf_e(b,conf),opts.auto)}},dur2);if(opts.auto.onPauseStart){opts.auto.onPauseStart.call($tt0,perc,dur2)}return true});$cfs.bind(cf_e("resume",conf),function(a){a.stopPropagation();if(scrl.isStopped){scrl.isStopped=false;crsl.isPaused=false;crsl.isScrolling=true;scrl.startTime=getTime();sc_startScroll(scrl)}else{$cfs.trigger(cf_e("play",conf))}return true});$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(a,b,c,d){a.stopPropagation();if(crsl.isStopped||$cfs.is(":hidden")){a.stopImmediatePropagation();return debug(conf,"Carousel stopped or hidden: Not scrolling.")}if(opts.items.minimum>=itms.total){a.stopImmediatePropagation();return debug(conf,"Not enough items ("+itms.total+", "+opts.items.minimum+" needed): Not scrolling.")}var e=[b,c,d],f=["object","number/string","function"],g=cf_sortParams(e,f);var b=g[0],c=g[1],d=g[2];var h=a.type.slice(conf.events.prefix.length);if(typeof b!="object"||b==null)b=opts[h];if(typeof d=="function")b.onAfter=d;if(typeof c!="number"){if(opts.items.filter!="*"){c="visible"}else{var i=[c,b.items,opts[h].items];for(var g=0,j=i.length;g<j;g++){if(typeof i[g]=="number"||i[g]=="page"||i[g]=="visible"){c=i[g];break}}}switch(c){case"page":a.stopImmediatePropagation();return $cfs.triggerHandler(h+"Page",[b,d]);break;case"visible":if(!opts.items.visibleConf.variable&&opts.items.filter=="*"){c=opts.items.visible}break}}if(scrl.isStopped){$cfs.trigger(cf_e("resume",conf));$cfs.trigger(cf_e("queue",conf),[h,[b,c,d]]);a.stopImmediatePropagation();return debug(conf,"Carousel resumed scrolling.")}if(b.duration>0){if(crsl.isScrolling){if(b.queue)$cfs.trigger(cf_e("queue",conf),[h,[b,c,d]]);a.stopImmediatePropagation();return debug(conf,"Carousel currently scrolling.")}}if(b.conditions&&!b.conditions.call($tt0)){a.stopImmediatePropagation();return debug(conf,'Callback "conditions" returned false.')}tmrs.timePassed=0;$cfs.trigger(cf_e("slide_"+h,conf),[b,c]);if(opts.synchronise){var k=opts.synchronise,l=[b,c];for(var m=0,j=k.length;m<j;m++){var n=h;if(!k[m][2])n=n=="prev"?"next":"prev";if(!k[m][1])l[0]=k[m][0].triggerHandler("_cfs_triggerEvent",["configuration",n]);l[1]=c+k[m][3];k[m][0].trigger("_cfs_triggerEvent",["slide_"+n,l])}}return true});$cfs.bind(cf_e("slide_prev",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular){if(itms.first==0){if(opts.infinite){$cfs.trigger(cf_e("next",conf),itms.total-1)}return a.stopImmediatePropagation()}}if(opts.usePadding)sz_resetMargin(d,opts);if(typeof c!="number"){if(opts.items.visibleConf.variable){c=gn_getVisibleItemsPrev(d,opts,itms.total-1)}else if(opts.items.filter!="*"){var e=typeof b.items=="number"?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsPrevFilter(d,opts,itms.total-1,e)}else{c=opts.items.visible}c=cf_getAdjust(c,opts,b.items,$tt0)}if(!opts.circular){if(itms.total-c<itms.first){c=itms.total-itms.first}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var f=gn_getVisibleItemsNext(d,opts,itms.total-c);if(opts.items.visible+c<=f&&c<itms.total){c++;f=gn_getVisibleItemsNext(d,opts,itms.total-c)}opts.items.visible=cf_getItemsAdjust(f,opts,opts.items.visibleConf.adjust,$tt0)}else if(opts.items.filter!="*"){var f=gn_getVisibleItemsNextFilter(d,opts,itms.total-c);opts.items.visible=cf_getItemsAdjust(f,opts,opts.items.visibleConf.adjust,$tt0)}if(opts.usePadding)sz_resetMargin(d,opts,true);if(c==0){a.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+c+" items backward.");itms.first+=c;while(itms.first>=itms.total){itms.first-=itms.total}if(!opts.circular){if(itms.first==0&&b.onEnd)b.onEnd.call($tt0);if(!opts.infinite)nv_enableNavi(opts,itms.first,conf)}$cfs.children().slice(itms.total-c,itms.total).prependTo($cfs);if(itms.total<opts.items.visible+c){$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(true).appendTo($cfs)}var d=$cfs.children(),g=gi_getOldItemsPrev(d,opts,c),h=gi_getNewItemsPrev(d,opts),i=d.eq(c-1),j=g.last(),k=h.last();if(opts.usePadding)sz_resetMargin(d,opts);if(opts.align){var l=cf_getAlignPadding(h,opts),m=l[0],n=l[1]}else{var m=0,n=0}var o=m<0?opts.padding[opts.d[3]]:0;if(b.fx=="directscroll"&&opts.items.visible<c){var p=d.slice(opts.items.visibleConf.old,c),q=opts.items[opts.d["width"]];p.each(function(){var a=$(this);a.data("isHidden",a.is(":hidden")).hide()});opts.items[opts.d["width"]]="variable"}else{var p=false}var r=ms_getTotalSize(d.slice(0,c),opts,"width"),s=cf_mapWrapperSizes(ms_getSizes(h,opts,true),opts,!opts.usePadding);if(p)opts.items[opts.d["width"]]=q;if(opts.usePadding){sz_resetMargin(d,opts,true);if(n>=0){sz_resetMargin(j,opts,opts.padding[opts.d[1]])}sz_resetMargin(i,opts,opts.padding[opts.d[3]])}if(opts.align){opts.padding[opts.d[1]]=n;opts.padding[opts.d[3]]=m}var t={},u=b.duration;if(b.fx=="none")u=0;else if(u=="auto")u=opts.scroll.duration/opts.scroll.items*c;else if(u<=0)u=0;else if(u<10)u=r/u;scrl=sc_setScroll(u,b.easing);if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){scrl.anims.push([$wrp,s])}if(opts.usePadding){var v=opts.padding[opts.d[3]];if(k.not(i).length){var w={};w[opts.d["marginRight"]]=i.data("cfs_origCssMargin");if(m<0)i.css(w);else scrl.anims.push([i,w])}if(k.not(j).length){var x={};x[opts.d["marginRight"]]=j.data("cfs_origCssMargin");scrl.anims.push([j,x])}if(n>=0){var y={};y[opts.d["marginRight"]]=k.data("cfs_origCssMargin")+opts.padding[opts.d[1]];scrl.anims.push([k,y])}}else{var v=0}t[opts.d["left"]]=v;var z=[g,h,s,u];if(b.onBefore)b.onBefore.apply($tt0,z);clbk.onBefore=sc_callCallbacks(clbk.onBefore,$tt0,z);switch(b.fx){case"fade":case"crossfade":case"cover":case"uncover":scrl.pre=sc_setScroll(scrl.duration,scrl.easing);scrl.post=sc_setScroll(scrl.duration,scrl.easing);scrl.duration=0;break}switch(b.fx){case"crossfade":case"cover":case"uncover":var A=$cfs.clone().appendTo($wrp);break}switch(b.fx){case"uncover":A.children().slice(0,c).remove();case"crossfade":case"cover":A.children().slice(opts.items.visible).remove();break}switch(b.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:0}]);break;case"crossfade":A.css({opacity:0});scrl.pre.anims.push([$cfs,{width:"+=0"},function(){A.remove()}]);scrl.post.anims.push([A,{opacity:1}]);break;case"cover":scrl=fx_cover(scrl,$cfs,A,opts,true);break;case"uncover":scrl=fx_uncover(scrl,$cfs,A,opts,true,c);break}var B=function(){var a=opts.items.visible+c-itms.total;if(a>0){$cfs.children().slice(itms.total).remove();g=$($cfs.children().slice(itms.total-(opts.items.visible-a)).get().concat($cfs.children().slice(0,a).get()))}if(p){p.each(function(){var a=$(this);if(!a.data("isHidden"))a.show()})}if(opts.usePadding){var d=$cfs.children().eq(opts.items.visible+c-1);d.css(opts.d["marginRight"],d.data("cfs_origCssMargin"))}scrl.anims=[];if(scrl.pre)scrl.pre=sc_setScroll(scrl.orgDuration,scrl.easing);var e=function(){switch(b.fx){case"fade":case"crossfade":$cfs.css("filter","");break}scrl.post=sc_setScroll(0,null);crsl.isScrolling=false;var a=[g,h,s];if(b.onAfter)b.onAfter.apply($tt0,a);clbk.onAfter=sc_callCallbacks(clbk.onAfter,$tt0,a);if(queu.length){$cfs.trigger(cf_e(queu[0][0],conf),queu[0][1]);queu.shift()}if(!crsl.isPaused)$cfs.trigger(cf_e("play",conf))};switch(b.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:1},e]);sc_startScroll(scrl.pre);break;case"uncover":scrl.pre.anims.push([$cfs,{width:"+=0"},e]);sc_startScroll(scrl.pre);break;default:e();break}};scrl.anims.push([$cfs,t,B]);crsl.isScrolling=true;$cfs.css(opts.d["left"],-(r-o));tmrs=sc_clearTimers(tmrs);sc_startScroll(scrl);cf_setCookie(opts.cookie,$cfs.triggerHandler(cf_e("currentPosition",conf)));$cfs.trigger(cf_e("updatePageStatus",conf),[false,s]);return true});$cfs.bind(cf_e("slide_next",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular){if(itms.first==opts.items.visible){if(opts.infinite){$cfs.trigger(cf_e("prev",conf),itms.total-1)}return a.stopImmediatePropagation()}}if(opts.usePadding)sz_resetMargin(d,opts);if(typeof c!="number"){if(opts.items.filter!="*"){var e=typeof b.items=="number"?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsNextFilter(d,opts,0,e)}else{c=opts.items.visible}c=cf_getAdjust(c,opts,b.items,$tt0)}var f=itms.first==0?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var g=gn_getVisibleItemsNext(d,opts,c),e=gn_getVisibleItemsPrev(d,opts,f-1)}else{var g=opts.items.visible,e=opts.items.visible}if(c+g>f){c=f-e}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var g=gn_getVisibleItemsNextTestCircular(d,opts,c,f);while(opts.items.visible-c>=g&&c<itms.total){c++;g=gn_getVisibleItemsNextTestCircular(d,opts,c,f)}opts.items.visible=cf_getItemsAdjust(g,opts,opts.items.visibleConf.adjust,$tt0)}else if(opts.items.filter!="*"){var g=gn_getVisibleItemsNextFilter(d,opts,c);opts.items.visible=cf_getItemsAdjust(g,opts,opts.items.visibleConf.adjust,$tt0)}if(opts.usePadding)sz_resetMargin(d,opts,true);if(c==0){a.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+c+" items forward.");itms.first-=c;while(itms.first<0){itms.first+=itms.total}if(!opts.circular){if(itms.first==opts.items.visible&&b.onEnd)b.onEnd.call($tt0);if(!opts.infinite)nv_enableNavi(opts,itms.first,conf)}if(itms.total<opts.items.visible+c){$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(true).appendTo($cfs)}var d=$cfs.children(),h=gi_getOldItemsNext(d,opts),i=gi_getNewItemsNext(d,opts,c),j=d.eq(c-1),k=h.last(),l=i.last();if(opts.usePadding)sz_resetMargin(d,opts);if(opts.align){var m=cf_getAlignPadding(i,opts),n=m[0],o=m[1]}else{var n=0,o=0}if(b.fx=="directscroll"&&opts.items.visibleConf.old<c){var p=d.slice(opts.items.visibleConf.old,c),q=opts.items[opts.d["width"]];p.each(function(){var a=$(this);a.data("isHidden",a.is(":hidden")).hide()});opts.items[opts.d["width"]]="variable"}else{var p=false}var r=ms_getTotalSize(d.slice(0,c),opts,"width"),s=cf_mapWrapperSizes(ms_getSizes(i,opts,true),opts,!opts.usePadding);if(p)opts.items[opts.d["width"]]=q;if(opts.align){if(opts.padding[opts.d[1]]<0){opts.padding[opts.d[1]]=0}}if(opts.usePadding){sz_resetMargin(d,opts,true);sz_resetMargin(k,opts,opts.padding[opts.d[1]])}if(opts.align){opts.padding[opts.d[1]]=o;opts.padding[opts.d[3]]=n}var t={},u=b.duration;if(b.fx=="none")u=0;else if(u=="auto")u=opts.scroll.duration/opts.scroll.items*c;else if(u<=0)u=0;else if(u<10)u=r/u;scrl=sc_setScroll(u,b.easing);if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){scrl.anims.push([$wrp,s])}if(opts.usePadding){var v=l.data("cfs_origCssMargin");if(o>=0){v+=opts.padding[opts.d[1]]}l.css(opts.d["marginRight"],v);if(j.not(k).length){var w={};w[opts.d["marginRight"]]=k.data("cfs_origCssMargin");scrl.anims.push([k,w])}var x=j.data("cfs_origCssMargin");if(n>=0){x+=opts.padding[opts.d[3]]}var y={};y[opts.d["marginRight"]]=x;scrl.anims.push([j,y])}t[opts.d["left"]]=-r;if(n<0){t[opts.d["left"]]+=n}var z=[h,i,s,u];if(b.onBefore)b.onBefore.apply($tt0,z);clbk.onBefore=sc_callCallbacks(clbk.onBefore,$tt0,z);switch(b.fx){case"fade":case"crossfade":case"cover":case"uncover":scrl.pre=sc_setScroll(scrl.duration,scrl.easing);scrl.post=sc_setScroll(scrl.duration,scrl.easing);scrl.duration=0;break}switch(b.fx){case"crossfade":case"cover":case"uncover":var A=$cfs.clone().appendTo($wrp);break}switch(b.fx){case"uncover":A.children().slice(opts.items.visibleConf.old).remove();break;case"crossfade":case"cover":A.children().slice(0,c).remove();A.children().slice(opts.items.visible).remove();break}switch(b.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:0}]);break;case"crossfade":A.css({opacity:0});scrl.pre.anims.push([$cfs,{width:"+=0"},function(){A.remove()}]);scrl.post.anims.push([A,{opacity:1}]);break;case"cover":scrl=fx_cover(scrl,$cfs,A,opts,false);break;case"uncover":scrl=fx_uncover(scrl,$cfs,A,opts,false,c);break}var B=function(){var a=opts.items.visible+c-itms.total,e=opts.usePadding?opts.padding[opts.d[3]]:0;$cfs.css(opts.d["left"],e);if(a>0){$cfs.children().slice(itms.total).remove()}var f=$cfs.children().slice(0,c).appendTo($cfs).last();if(a>0){i=gi_getCurrentItems(d,opts)}if(p){p.each(function(){var a=$(this);if(!a.data("isHidden"))a.show()})}if(opts.usePadding){if(itms.total<opts.items.visible+c){var g=$cfs.children().eq(opts.items.visible-1);g.css(opts.d["marginRight"],g.data("cfs_origCssMargin")+opts.padding[opts.d[3]])}f.css(opts.d["marginRight"],f.data("cfs_origCssMargin"))}scrl.anims=[];if(scrl.pre)scrl.pre=sc_setScroll(scrl.orgDuration,scrl.easing);var j=function(){switch(b.fx){case"fade":case"crossfade":$cfs.css("filter","");break}scrl.post=sc_setScroll(0,null);crsl.isScrolling=false;var a=[h,i,s];if(b.onAfter)b.onAfter.apply($tt0,a);clbk.onAfter=sc_callCallbacks(clbk.onAfter,$tt0,a);if(queu.length){$cfs.trigger(cf_e(queu[0][0],conf),queu[0][1]);queu.shift()}if(!crsl.isPaused)$cfs.trigger(cf_e("play",conf))};switch(b.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:1},j]);sc_startScroll(scrl.pre);break;case"uncover":scrl.pre.anims.push([$cfs,{width:"+=0"},j]);sc_startScroll(scrl.pre);break;default:j();break}};scrl.anims.push([$cfs,t,B]);crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);sc_startScroll(scrl);cf_setCookie(opts.cookie,$cfs.triggerHandler(cf_e("currentPosition",conf)));$cfs.trigger(cf_e("updatePageStatus",conf),[false,s]);return true});$cfs.bind(cf_e("slideTo",conf),function(a,b,c,d,e,f,g){a.stopPropagation();var h=[b,c,d,e,f,g],i=["string/number/object","number","boolean","object","string","function"],j=cf_sortParams(h,i);var e=j[3],f=j[4],g=j[5];b=gn_getItemIndex(j[0],j[1],j[2],itms,$cfs);if(b==0)return;if(typeof e!="object")e=false;if(crsl.isScrolling){if(typeof e!="object"||e.duration>0)return false}if(f!="prev"&&f!="next"){if(opts.circular){if(b<=itms.total/2)f="next";else f="prev"}else{if(itms.first==0||itms.first>b)f="next";else f="prev"}}if(f=="prev")b=itms.total-b;$cfs.trigger(cf_e(f,conf),[e,b,g]);return true});$cfs.bind(cf_e("prevPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d-1,b,"prev",c])});$cfs.bind(cf_e("nextPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d+1,b,"next",c])});$cfs.bind(cf_e("slideToPage",conf),function(a,b,c,d,e){a.stopPropagation();if(typeof b!="number")b=$cfs.triggerHandler(cf_e("currentPage",conf));var f=opts.pagination.items||opts.items.visible,g=Math.ceil(itms.total/f)-1;if(b<0)b=g;if(b>g)b=0;return $cfs.triggerHandler(cf_e("slideTo",conf),[b*f,0,true,c,d,e])});$cfs.bind(cf_e("jumpToStart",conf),function(a,b){a.stopPropagation();if(b)b=gn_getItemIndex(b,0,true,itms,$cfs);else b=0;b+=itms.first;if(b!=0){while(b>itms.total)b-=itms.total;$cfs.prepend($cfs.children().slice(b,itms.total))}return true});$cfs.bind(cf_e("synchronise",conf),function(a,b){a.stopPropagation();if(b)b=cf_getSynchArr(b);else if(opts.synchronise)b=opts.synchronise;else return debug(conf,"No carousel to synchronise.");var c=$cfs.triggerHandler(cf_e("currentPosition",conf)),d=true;for(var e=0,f=b.length;e<f;e++){if(!b[e][0].triggerHandler(cf_e("slideTo",conf),[c,b[e][3],true])){d=false}}return d});$cfs.bind(cf_e("queue",conf),function(a,b,c){a.stopPropagation();if(typeof b=="function"){b.call($tt0,queu)}else if(is_array(b)){queu=b}else if(typeof b!="undefined"){queu.push([b,c])}return queu});$cfs.bind(cf_e("insertItem",conf),function(a,b,c,d,e){a.stopPropagation();var f=[b,c,d,e],g=["string/object","string/number/object","boolean","number"],h=cf_sortParams(f,g);var b=h[0],c=h[1],d=h[2],e=h[3];if(typeof b=="object"&&typeof b.jquery=="undefined")b=$(b);if(typeof b=="string")b=$(b);if(typeof b!="object"||typeof b.jquery=="undefined"||b.length==0)return debug(conf,"Not a valid object.");if(typeof c=="undefined")c="end";if(opts.usePadding){b.each(function(){var a=parseInt($(this).css(opts.d["marginRight"]));if(isNaN(a))a=0;$(this).data("cfs_origCssMargin",a)})}var i=c,j="before";if(c=="end"){if(d){if(itms.first==0){c=itms.total-1;j="after"}else{c=itms.first;itms.first+=b.length}if(c<0)c=0}else{c=itms.total-1;j="after"}}else{c=gn_getItemIndex(c,e,d,itms,$cfs)}if(i!="end"&&!d){if(c<itms.first)itms.first+=b.length}if(itms.first>=itms.total)itms.first-=itms.total;var k=$cfs.children().eq(c);if(k.length){k[j](b)}else{$cfs.append(b)}itms.total=$cfs.children().length;var l=$cfs.triggerHandler("updateSizes");nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);$cfs.trigger(cf_e("linkAnchors",conf));$cfs.trigger(cf_e("updatePageStatus",conf),[true,l]);return true});$cfs.bind(cf_e("removeItem",conf),function(a,b,c,d){a.stopPropagation();var e=[b,c,d],f=["string/number/object","boolean","number"],g=cf_sortParams(e,f);b=g[0];c=g[1];d=g[2];var h=false;if(b instanceof $&&b.length>1){i=$();b.each(function(a,b){var e=$cfs.trigger(cf_e("removeItem",conf),[$(this),c,d]);if(e)i=i.add(e)});return i}if(typeof b=="undefined"||b=="end"){i=$cfs.children().last()}else{b=gn_getItemIndex(b,d,c,itms,$cfs);var i=$cfs.children().eq(b);if(i.length){if(b<itms.first)itms.first-=i.length}}if(i&&i.length){i.detach();itms.total=$cfs.children().length;var j=$cfs.triggerHandler("updateSizes");nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[true,j])}return i});$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length);if(is_array(b))clbk[c]=b;if(typeof b=="function")clbk[c].push(b);return clbk[c]});$cfs.bind(cf_e("currentPosition",conf),function(a,b){a.stopPropagation();if(itms.first==0)var c=0;else var c=itms.total-itms.first;if(typeof b=="function")b.call($tt0,c);return c});$cfs.bind(cf_e("currentPage",conf),function(a,b){a.stopPropagation();var c=opts.pagination.items||opts.items.visible;var d=Math.ceil(itms.total/c-1);if(itms.first==0)var e=0;else if(itms.first<itms.total%c)var e=0;else if(itms.first==c&&!opts.circular)var e=d;else var e=Math.round((itms.total-itms.first)/c);if(e<0)e=0;if(e>d)e=d;if(typeof b=="function")b.call($tt0,e);return e});$cfs.bind(cf_e("currentVisible",conf),function(a,b){a.stopPropagation();$i=gi_getCurrentItems($cfs.children(),opts);if(typeof b=="function")b.call($tt0,$i);return $i});$cfs.bind(cf_e("slice",conf),function(a,b,c,d){a.stopPropagation();if(itms.total==0)return false;var e=[b,c,d],f=["number","number","function"],g=cf_sortParams(e,f);b=typeof g[0]=="number"?g[0]:0;c=typeof g[1]=="number"?g[1]:itms.total;d=g[2];b+=itms.first;c+=itms.first;while(b>itms.total){b-=itms.total}while(c>itms.total){c-=itms.total}while(b<0){b+=itms.total}while(c<0){c+=itms.total}var h=$cfs.children();if(c>b){var i=h.slice(b,c)}else{var i=$(h.slice(b,itms.total).get().concat(h.slice(0,c).get()))}if(typeof d=="function")d.call($tt0,i);return i});$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length);if(typeof b=="function")b.call($tt0,crsl[c]);return crsl[c]});$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=false;if(typeof a=="function"){a.call($tt0,opts)}else if(typeof a=="object"){opts_orig=$.extend(true,{},opts_orig,a);if(b!==false)reInit=true;else opts=$.extend(true,{},opts,a)}else if(typeof a!="undefined"){if(typeof b=="function"){var val=eval("opts."+a);if(typeof val=="undefined")val="";b.call($tt0,val)}else if(typeof b!="undefined"){if(typeof c!=="boolean")c=true;eval("opts_orig."+a+" = b");if(c!==false)reInit=true;else eval("opts."+a+" = b")}else{return eval("opts."+a)}}if(reInit){sz_resetMargin($cfs.children(),opts);$cfs._cfs_init(opts_orig);$cfs._cfs_bind_buttons();var siz=sz_setSizes($cfs,opts,false);$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz])}return opts});$cfs.bind(cf_e("linkAnchors",conf),function(a,b,c){a.stopPropagation();if(typeof b=="undefined"||b.length==0)b=$("body");else if(typeof b=="string")b=$(b);if(typeof b!="object")return debug(conf,"Not a valid object.");if(typeof c!="string"||c.length==0)c="a.caroufredsel";b.find(c).each(function(){var a=this.hash||"";if(a.length>0&&$cfs.children().index($(a))!=-1){$(this).unbind("click").click(function(b){b.preventDefault();$cfs.trigger(cf_e("slideTo",conf),a)})}});return true});$cfs.bind(cf_e("updatePageStatus",conf),function(a,b,c){a.stopPropagation();if(!opts.pagination.container)return;if(b){var d=opts.pagination.items||opts.items.visible,e=Math.ceil(itms.total/d);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove();opts.pagination.container.each(function(){for(var a=0;a<e;a++){var b=$cfs.children().eq(gn_getItemIndex(a*d,0,true,itms,$cfs));$(this).append(opts.pagination.anchorBuilder(a+1,b))}})}opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(b){b.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[a*d,0,true,opts.pagination])})})})}opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq($cfs.triggerHandler(cf_e("currentPage",conf))).addClass(cf_c("selected",conf))});return true});$cfs.bind(cf_e("updateSizes",conf),function(a){var b=$cfs.children(),c=opts.items.visible;if(opts.items.visibleConf.variable)c=gn_getVisibleItemsNext(b,opts,0);else if(opts.items.filter!="*")c=gn_getVisibleItemsNextFilter(b,opts,0);if(!opts.circular&&itms.first!=0&&c>itms.first){if(opts.items.visibleConf.variable){var d=gn_getVisibleItemsPrev(b,opts,itms.first)-itms.first}else if(opts.items.filter!="*"){var d=gn_getVisibleItemsPrevFilter(b,opts,itms.first)-itms.first}else{d=opts.items.visible-itms.first}debug(conf,"Preventing non-circular: sliding "+d+" items backward.");$cfs.trigger("prev",d)}opts.items.visible=cf_getItemsAdjust(c,opts,opts.items.visibleConf.adjust,$tt0);return sz_setSizes($cfs,opts)});$cfs.bind(cf_e("destroy",conf),function(a,b){a.stopPropagation();tmrs=sc_clearTimers(tmrs);$cfs.data("cfs_isCarousel",false);$cfs.trigger(cf_e("finish",conf));if(b){$cfs.trigger(cf_e("jumpToStart",conf))}if(opts.usePadding){sz_resetMargin($cfs.children(),opts)}$cfs.css($cfs.data("cfs_origCss"));$cfs._cfs_unbind_events();$cfs._cfs_unbind_buttons();$wrp.replaceWith($cfs);return true});$cfs.bind("_cfs_triggerEvent",function(a,b,c){a.stopPropagation();return $cfs.triggerHandler(cf_e(b,conf),c)})};$cfs._cfs_unbind_events=function(){$cfs.unbind(cf_e("",conf));$cfs.unbind(cf_e("",conf,false));$cfs.unbind("_cfs_triggerEvent")};$cfs._cfs_bind_buttons=function(){$cfs._cfs_unbind_buttons();nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);if(opts.auto.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button){opts.auto.button.bind(cf_e(opts.auto.event,conf,false),function(a){a.preventDefault();var b=false,c=null;if(crsl.isPaused){b="play"}else if(opts.auto.pauseOnEvent){b="pause";c=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)}if(b){$cfs.trigger(cf_e(b,conf),c)}})}if(opts.prev.button){opts.prev.button.bind(cf_e(opts.prev.event,conf,false),function(a){a.preventDefault();$cfs.trigger(cf_e("prev",conf))});if(opts.prev.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.next.button){opts.next.button.bind(cf_e(opts.next.event,conf,false),function(a){a.preventDefault();$cfs.trigger(cf_e("next",conf))});if(opts.next.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if($.fn.mousewheel){if(opts.prev.mousewheel){if(!crsl.mousewheelPrev){crsl.mousewheelPrev=true;$wrp.mousewheel(function(a,b){if(b>0){a.preventDefault();var c=bt_mousesheelNumber(opts.prev.mousewheel);$cfs.trigger(cf_e("prev",conf),c)}})}}if(opts.next.mousewheel){if(!crsl.mousewheelNext){crsl.mousewheelNext=true;$wrp.mousewheel(function(a,b){if(b<0){a.preventDefault();var c=bt_mousesheelNumber(opts.next.mousewheel);$cfs.trigger(cf_e("next",conf),c)}})}}}if($.fn.touchwipe){var b=opts.prev.wipe?function(){$cfs.trigger(cf_e("prev",conf))}:null,c=opts.next.wipe?function(){$cfs.trigger(cf_e("next",conf))}:null;if(c||c){if(!crsl.touchwipe){crsl.touchwipe=true;var d={min_move_x:30,min_move_y:30,preventDefaultEvents:true};switch(opts.direction){case"up":case"down":d.wipeUp=b;d.wipeDown=c;break;default:d.wipeLeft=c;d.wipeRight=b}$wrp.touchwipe(d)}}}if(opts.pagination.container){if(opts.pagination.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.prev.key||opts.next.key){$(document).bind(cf_e("keyup",conf,false,true,true),function(a){var b=a.keyCode;if(b==opts.next.key){a.preventDefault();$cfs.trigger(cf_e("next",conf))}if(b==opts.prev.key){a.preventDefault();$cfs.trigger(cf_e("prev",conf))}})}if(opts.pagination.keys){$(document).bind(cf_e("keyup",conf,false,true,true),function(a){var b=a.keyCode;if(b>=49&&b<58){b=(b-49)*opts.items.visible;if(b<=itms.total){a.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[b,0,true,opts.pagination])}}})}if(opts.auto.play){$cfs.trigger(cf_e("play",conf),opts.auto.delay)}if(crsl.upDateOnWindowResize){var e=$(window),f=e.width(),g=e.height();e.bind(cf_e("resize",conf,false,true,true),function(a){if(e.width()!=f||e.height()!=g){$cfs.trigger(cf_e("finish",conf));if(opts.auto.pauseOnResize&&!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}sz_resetMargin($cfs.children(),opts);$cfs._cfs_init(opts_orig);var b=sz_setSizes($cfs,opts,false);nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[true,b]);f=e.width();g=e.height()}})}};$cfs._cfs_unbind_buttons=function(){var a=cf_e("",conf),b=cf_e("",conf,false);ns3=cf_e("",conf,false,true,true);$(document).unbind(ns3);$(window).unbind(ns3);$wrp.unbind(b);if(opts.auto.button)opts.auto.button.unbind(b);if(opts.prev.button)opts.prev.button.unbind(b);if(opts.next.button)opts.next.button.unbind(b);if(opts.pagination.container){opts.pagination.container.unbind(b);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove()}}nv_showNavi(opts,"hide",conf);nv_enableNavi(opts,"removeClass",conf)};var crsl={direction:"next",isPaused:true,isScrolling:false,isStopped:false,mousewheelNext:false,mousewheelPrev:false,touchwipe:false},itms={total:$cfs.children().length,first:0},tmrs={timer:null,auto:null,queue:null,startTime:getTime(),timePassed:0},scrl={isStopped:false,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(true,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=options,$wrp=$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();conf.selector=$cfs.selector;conf.serialNumber=$.fn.carouFredSel.serialNumber++;$cfs._cfs_init(opts_orig,true,starting_position);$cfs._cfs_build();$cfs._cfs_bind_events();$cfs._cfs_bind_buttons();if(is_array(opts.items.start)){var start_arr=opts.items.start}else{var start_arr=[];if(opts.items.start!=0){start_arr.push(opts.items.start)}}if(opts.cookie){start_arr.unshift(cf_readCookie(opts.cookie))}if(start_arr.length>0){for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(s==0){continue}if(s===true){s=window.location.hash;if(s.length<1){continue}}else if(s==="random"){s=Math.floor(Math.random()*itms.total)}if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,true,{fx:"none"}])){break}}}var siz=sz_setSizes($cfs,opts,false),itm=gi_getCurrentItems($cfs.children(),opts);if(opts.onCreate){opts.onCreate.call($tt0,itm,siz)}$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz]);$cfs.trigger(cf_e("linkAnchors",conf));return $cfs};$.fn.carouFredSel.serialNumber=1;$.fn.carouFredSel.defaults={synchronise:false,infinite:true,circular:true,responsive:false,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:false,mousewheel:false,wipe:false,event:"click",queue:false}};$.fn.carouFredSel.configs={debug:false,events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}};$.fn.carouFredSel.pageAnchorBuilder=function(a,b){return'<a href="#"><span>'+a+"</span></a>"};$.fn.caroufredsel=function(a,b){return this.carouFredSel(a,b)};$.extend($.easing,{quadratic:function(a){var b=a*a;return a*(-b*a+4*b-6*a+4)},cubic:function(a){return a*(4*a*a-9*a+6)},elastic:function(a){var b=a*a;return a*(33*b*b-106*b*a+126*b-67*a+15)}})})(jQuery)